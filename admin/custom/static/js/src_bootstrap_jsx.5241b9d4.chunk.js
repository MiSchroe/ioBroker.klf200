(self.webpackChunkiobroker_admin_component_klf200=self.webpackChunkiobroker_admin_component_klf200||[]).push([["node_modules_mui_material_node_modules_mui_styled-engine_StyledEngineProvider_StyledEnginePro-5d1c67","node_modules_react_jsx-runtime_js-_3112","src_bootstrap_jsx"],{1278:(O,a,e)=>{"use strict";var t=e(64922),d=e(28437),l=e.n(d),m=e(94140),r=e(6761),u=e(40805),_=e(37449),s=e(67085),h=e(95973),c=e.n(h),f=e(60556),v=Object.defineProperty,p=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,b=(i,n,o)=>n in i?v(i,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[n]=o,B=(i,n)=>{for(var o in n||(n={}))y.call(n,o)&&b(i,o,n[o]);if(p)for(var o of p(n))A.call(n,o)&&b(i,o,n[o]);return i};const G={button:{minWidth:150},table:{minWidth:650}},U=(...i)=>n=>o=>{const P=(0,s.useTheme)(),j=(0,s.useMediaQuery)(P.breakpoints.up(...i));return(0,t.jsx)(n,B({mediaQuery:j},o))};class C extends f.ConfigGeneric{renderItem(n,o,P){return this.props.mediaQuery?(0,t.jsx)(s.TableContainer,{children:(0,t.jsxs)(s.Table,{children:[(0,t.jsx)(s.TableHead,{children:(0,t.jsxs)(s.TableRow,{children:[(0,t.jsx)(s.TableCell,{align:"left",size:"small",children:"Status"}),(0,t.jsx)(s.TableCell,{align:"left",children:"Step name"}),(0,t.jsx)(s.TableCell,{align:"left",children:"Result"}),(0,t.jsx)(s.TableCell,{align:"left",children:"Message"})]})}),(0,t.jsx)(s.TableBody,{children:this.props.data.testResults.map(E=>{var S,D;return(0,t.jsxs)(s.TableRow,{sx:{"&:last-child td, &:last-child th":{border:0}},hover:!0,children:[(0,t.jsx)(s.TableCell,{align:"center",size:"small",children:E.run?E.success?"\u2705":"\u274C":""}),(0,t.jsx)(s.TableCell,{align:"left",children:E.stepName}),(0,t.jsx)(s.TableCell,{align:typeof E.result=="number"?"right":"left",children:String((S=E.result)!=null?S:"")}),(0,t.jsx)(s.TableCell,{align:"left",children:(D=E.message)!=null?D:""})]},E.stepOrder)})})]})}):(0,t.jsx)(s.Stack,{divider:(0,t.jsx)(s.Divider,{orientation:"horizontal",flexItem:!0}),spacing:1,sx:{marginTop:1,overflow:"auto",height:"100%"},children:this.props.data.testResults.map(E=>{var S,D;return(0,t.jsxs)(s.Grid,{container:!0,children:[(0,t.jsx)(s.Grid,{item:!0,xs:6,display:"flex",justifyContent:"left",alignItems:"left",fontWeight:"bold",children:"Step name"}),(0,t.jsx)(s.Grid,{item:!0,xs:6,children:E.stepName}),(0,t.jsx)(s.Grid,{item:!0,xs:6,display:"flex",justifyContent:"left",alignItems:"left",fontWeight:"bold",children:"Status"}),(0,t.jsx)(s.Grid,{item:!0,xs:6,children:E.run?E.success?"\u2705":"\u274C":""}),(0,t.jsx)(s.Grid,{item:!0,xs:6,display:"flex",justifyContent:"left",alignItems:"left",fontWeight:"bold",children:"Result"}),(0,t.jsx)(s.Grid,{item:!0,xs:6,children:String((S=E.result)!=null?S:"")}),(0,t.jsx)(s.Grid,{item:!0,xs:6,display:"flex",justifyContent:"left",alignItems:"left",fontWeight:"bold",children:"Message"}),(0,t.jsx)(s.Grid,{item:!0,xs:6,children:(D=E.message)!=null?D:""})]},E.stepOrder)})})}}C.propTypes={socket:c().object.isRequired,themeType:c().string,themeName:c().string,style:c().object,data:c().object.isRequired,schema:c().object,onError:c().func,onChange:c().func};const T=U("sm")(C);var g=e(47952),M=Object.defineProperty,W=(i,n,o)=>n in i?M(i,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[n]=o,R=(i,n,o)=>W(i,typeof n!="symbol"?n+"":n,o),L=(i,n,o)=>new Promise((P,j)=>{var E=x=>{try{D(o.next(x))}catch(I){j(I)}},S=x=>{try{D(o.throw(x))}catch(I){j(I)}},D=x=>x.done?P(x.value):Promise.resolve(x.value).then(E,S);D((o=o.apply(i,n)).next())});const $={button:{minWidth:150},table:{minWidth:650}};class K extends f.ConfigGeneric{constructor(n){super(n),R(this,"onAliveChanged",(o,P)=>{const j=P?P.val:!1;j!==this.state.alive&&this.setState({alive:j})}),R(this,"testConnectionHandler",()=>{this.setState({testRunning:!0},()=>L(this,null,function*(){try{this.onUpdate;const o={command:"ConnectionTest",hostname:this.props.data.host,password:yield this.props.socket.encrypt(this.props.data.password)};this.props.data.advancedSSLConfiguration&&(o.advancedSSLConfiguration={sslFingerprint:this.props.data.SSLFingerprint,sslPublicKey:this.props.data.SSLPublicKey}),yield this.props.socket.subscribeOnInstance(`${this.props.adapterName}.${this.props.instance}`,"ConnectionTestProgress",void 0,this.onConnectionTestProgress);const P=yield this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,o.command,o);this.setState({testResults:P})}finally{this.setState({testRunning:!1}),yield this.props.socket.unsubscribeFromInstance(`${this.props.adapterName}.${this.props.instance}`,"ConnectionTestProgress",this.onConnectionTestProgress)}}))}),this.state={alive:!1,testRunning:!1,testResults:[]}}componentDidMount(){super.componentDidMount(),this.props.socket.getState(`system.adapter.${this.props.adapterName}.${this.props.instance}.alive`).then(n=>L(this,null,function*(){n&&n.val?this.setState({alive:n.val}):this.setState({alive:!1}),yield this.props.socket.subscribeState(`system.adapter.${this.props.adapterName}.${this.props.instance}.alive`,this.onAliveChanged)}))}componentWillUnmount(){super.componentWillUnmount(),this.props.socket.unsubscribeState(`system.adapter.${this.props.adapterName}.${this.props.instance}.alive`,this.onAliveChanged)}onConnectionTestProgress(n,o,P){P==="ConnectionTestProgress"&&this.setState({testResults:n})}renderItem(n,o,P){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Button,{style:$.button,color:"secondary",variant:"contained",disabled:!this.state.alive||this.state.testRunning,onClick:this.testConnectionHandler,children:"Test connection"}),this.state.testRunning||this.state.testResults.length>0?(0,t.jsx)(T,{socket:this.props.socket,themeType:this.state.themeType,themeName:this.state.themeName,data:this.state,onError:()=>{},schema:{name:"ConfigCustomKlf200Set/Components/ConnectionTestResultTableComponent",type:"custom"}}):null]})}}K.propTypes={socket:c().object.isRequired,themeType:c().string,themeName:c().string,style:c().object,data:c().object.isRequired,attr:c().string,schema:c().object,onError:c().func,onChange:c().func};const V=K;var X=Object.defineProperty,H=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,F=(i,n,o)=>n in i?X(i,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[n]=o,Y=(i,n)=>{for(var o in n||(n={}))Q.call(n,o)&&F(i,o,n[o]);if(H)for(var o of H(n))z.call(n,o)&&F(i,o,n[o]);return i},J=(i,n,o)=>F(i,typeof n!="symbol"?n+"":n,o),Z=(i,n,o)=>new Promise((P,j)=>{var E=x=>{try{D(o.next(x))}catch(I){j(I)}},S=x=>{try{D(o.throw(x))}catch(I){j(I)}},D=x=>x.done?P(x.value):Promise.resolve(x.value).then(E,S);D((o=o.apply(i,n)).next())});const N={app:i=>({backgroundColor:i.palette.background.default,color:i.palette.text.primary,height:"100%"}),item:{padding:50}};class w extends _.GenericApp{constructor(n){const o=Y({},n);o.Connection=_.AdminConnection,super(n,o),J(this,"handleAliveChange",P=>{this.setState({alive:P.target.checked}),this.socket.setState(`system.adapter.klf200.${this.props.instance}.alive`,{val:P.target.checked,ack:!0})}),this.state={theme:this.createTheme(),native:{host:"localhost",password:"velux123",enableAutomaticReboot:!0,automaticRebootCronTime:"0 3 * * *",advancedSSLConfiguration:!1,SSLPublicKey:"",SSLFingerprint:""},alive:!1,testResults:[{stepOrder:1,stepName:"Name lookup",run:!0,success:!0,message:"Hostname localhost resolves to IP address 127.0.0.1.",result:"127.0.0.1"},{stepOrder:2,stepName:"Ping",run:!0,success:!0,message:"Ping was successful after 42 milliseconds.",result:42},{stepOrder:3,stepName:"Connection",run:!0,success:!1,message:"Can't establish a secure connection: No matching protocol found.",result:new Error("No matching protocol found.")},{stepOrder:4,stepName:"Login",run:!1}]},_.I18n.setLanguage((navigator.language||navigator.userLanguage||"en").substring(0,2).toLowerCase())}handleTestConnection(n,o,P,j){return Z(this,null,function*(){console.log("handleTestConnection",n,o,P,j)})}render(){return this.state.loaded?(0,t.jsx)(r.A,{injectFirst:!0,children:(0,t.jsx)(u.A,{theme:this.state.theme,children:(0,t.jsxs)(s.Box,{sx:N.app,children:[(0,t.jsx)("div",{style:N.item,children:(0,t.jsx)(s.FormControlLabel,{label:"alive",control:(0,t.jsx)(s.Switch,{checked:this.state.alive,onChange:this.handleAliveChange})})}),(0,t.jsx)("div",{style:N.item,children:(0,t.jsx)(V,{socket:this.socket,themeType:this.state.themeType,themeName:this.state.themeName,data:this.state.native,onError:()=>{},schema:{name:"ConfigCustomKlf200Set/Components/ConnectionTestComponent",type:"custom"}})})]})})}):(0,t.jsx)(r.A,{injectFirst:!0,children:(0,t.jsx)(u.A,{theme:this.state.theme,children:(0,t.jsx)(_.Loader,{themeType:this.state.themeType})})})}}const k=w;window.adapterName="adapter-component-template";const q=document.getElementById("root");(0,m.H)(q).render((0,t.jsx)(l().StrictMode,{children:(0,t.jsx)(k,{socket:{port:8081}})}))},93225:(O,a,e)=>{"use strict";e.d(a,{A:()=>m});var t=e(28437),d=e.n(t);const m=t.createContext(null)},15217:(O,a,e)=>{"use strict";e.d(a,{A:()=>m});var t=e(28437),d=e.n(t),l=e(93225);function m(){return t.useContext(l.A)}},6761:(O,a,e)=>{"use strict";e.d(a,{A:()=>h});var t=e(28437),d=e.n(t),l=e(95973),m=e.n(l),r=e(66252),u=e(11862),_=e(64922);let s;typeof document=="object"&&(s=(0,u.A)({key:"css",prepend:!0}));function h(c){const{injectFirst:f,children:v}=c;return f&&s?(0,_.jsx)(r.C,{value:s,children:v}):v}},78684:(O,a,e)=>{"use strict";e.d(a,{A:()=>f,b:()=>c});var t=e(28437),d=e.n(t),l=e(95973),m=e.n(l),r=e(24517),u=e(64922);const _=t.createContext(void 0);function s({value:v,children:p}){return(0,u.jsx)(_.Provider,{value:v,children:p})}function h(v){const{theme:p,name:y,props:A}=v;if(!p||!p.components||!p.components[y])return A;const b=p.components[y];return b.defaultProps?(0,r.A)(b.defaultProps,A):!b.styleOverrides&&!b.variants?(0,r.A)(b,A):A}function c({props:v,name:p}){const y=t.useContext(_);return h({props:v,name:p,theme:{components:y}})}const f=s},36577:(O,a,e)=>{"use strict";e.d(a,{A:()=>v,I:()=>f});var t=e(58168),d=e(98587),l=e(28437),m=e.n(l),r=e(95973),u=e.n(r),_=e(64922);const s=["value"],h=l.createContext();function c(p){let{value:y}=p,A=(0,d.A)(p,s);return(0,_.jsx)(h.Provider,(0,t.A)({value:y!=null?y:!0},A))}const f=()=>{const p=l.useContext(h);return p!=null?p:!1},v=c},34399:(O,a,e)=>{"use strict";e.d(a,{A:()=>U});var t=e(58168),d=e(28437),l=e(95973),m=e(15217),r=e(93225);const _=typeof Symbol=="function"&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var s=e(64922);function h(C,T){return typeof T=="function"?T(C):(0,t.A)({},C,T)}function c(C){const{children:T,theme:g}=C,M=(0,m.A)(),W=d.useMemo(()=>{const R=M===null?g:h(M,g);return R!=null&&(R[_]=M!==null),R},[g,M]);return(0,s.jsx)(r.A.Provider,{value:W,children:T})}const f=c;var v=e(66252),p=e(25120),y=e(36577),A=e(78684);const b={};function B(C,T,g,M=!1){return d.useMemo(()=>{const W=C&&T[C]||T;if(typeof g=="function"){const R=g(W),L=C?(0,t.A)({},T,{[C]:R}):R;return M?()=>L:L}return C?(0,t.A)({},T,{[C]:g}):(0,t.A)({},T,g)},[C,T,g,M])}function G(C){const{children:T,theme:g,themeId:M}=C,W=(0,p.A)(b),R=(0,m.A)()||b,L=B(M,W,g),$=B(M,R,g,!0),K=L.direction==="rtl";return(0,s.jsx)(f,{theme:$,children:(0,s.jsx)(v.T.Provider,{value:L,children:(0,s.jsx)(y.A,{value:K,children:(0,s.jsx)(A.A,{value:L==null?void 0:L.components,children:T})})})})}const U=G},25120:(O,a,e)=>{"use strict";e.d(a,{A:()=>u});var t=e(28437),d=e.n(t),l=e(66252);function m(_){return Object.keys(_).length===0}function r(_=null){const s=t.useContext(l.T);return!s||m(s)?_:s}const u=r},40805:(O,a,e)=>{"use strict";e.d(a,{A:()=>f});var t=e(58168),d=e(98587),l=e(28437),m=e.n(l),r=e(95973),u=e.n(r),_=e(34399),s=e(92066),h=e(64922);const c=["theme"];function f(v){let{theme:p}=v,y=(0,d.A)(v,c);const A=p[s.A];return(0,h.jsx)(_.A,(0,t.A)({},y,{themeId:A?s.A:void 0,theme:A||p}))}},92066:(O,a,e)=>{"use strict";e.d(a,{A:()=>t});const t="$$material"},24517:(O,a,e)=>{"use strict";e.d(a,{A:()=>d});var t=e(58168);function d(l,m){const r=(0,t.A)({},m);return Object.keys(l).forEach(u=>{if(u.toString().match(/^(components|slots)$/))r[u]=(0,t.A)({},l[u],r[u]);else if(u.toString().match(/^(componentsProps|slotProps)$/)){const _=l[u]||{},s=m[u];r[u]={},!s||!Object.keys(s)?r[u]=_:!_||!Object.keys(_)?r[u]=s:(r[u]=(0,t.A)({},s),Object.keys(_).forEach(h=>{r[u][h]=d(_[h],s[h])}))}else r[u]===void 0&&(r[u]=l[u])}),r}},94140:(O,a,e)=>{"use strict";var t,d=e(23479);if(1)a.H=d.createRoot,t=d.hydrateRoot;else var l},13394:(O,a,e)=>{"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=e(28437),d=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,r=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function _(s,h,c){var f,v={},p=null,y=null;c!==void 0&&(p=""+c),h.key!==void 0&&(p=""+h.key),h.ref!==void 0&&(y=h.ref);for(f in h)m.call(h,f)&&!u.hasOwnProperty(f)&&(v[f]=h[f]);if(s&&s.defaultProps)for(f in h=s.defaultProps,h)v[f]===void 0&&(v[f]=h[f]);return{$$typeof:d,type:s,key:p,ref:y,props:v,_owner:r.current}}a.Fragment=l,a.jsx=_,a.jsxs=_},64922:(O,a,e)=>{"use strict";O.exports=e(13394)},47952:()=>{},58168:(O,a,e)=>{"use strict";e.d(a,{A:()=>t});function t(){return t=Object.assign?Object.assign.bind():function(d){for(var l=1;l<arguments.length;l++){var m=arguments[l];for(var r in m)({}).hasOwnProperty.call(m,r)&&(d[r]=m[r])}return d},t.apply(null,arguments)}},98587:(O,a,e)=>{"use strict";e.d(a,{A:()=>t});function t(d,l){if(d==null)return{};var m={};for(var r in d)if({}.hasOwnProperty.call(d,r)){if(l.includes(r))continue;m[r]=d[r]}return m}}}]);

//# sourceMappingURL=src_bootstrap_jsx.5241b9d4.chunk.js.map