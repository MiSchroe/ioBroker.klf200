(self.webpackChunkiobroker_admin_component_klf200=self.webpackChunkiobroker_admin_component_klf200||[]).push([["node_modules_mui_material_node_modules_mui_styled-engine_StyledEngineProvider_StyledEnginePro-5d1c67","node_modules_react_jsx-runtime_js-_3112","src_bootstrap_jsx"],{1278:(y,a,e)=>{"use strict";var t=e(64922),d=e(28437),l=e.n(d),m=e(94140),r=e(6761),u=e(40805),_=e(37449),s=e(67085),p=e(95973),c=e.n(p),v=e(60556),E=Object.defineProperty,f=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,b=(i,o,n)=>o in i?E(i,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[o]=n,B=(i,o)=>{for(var n in o||(o={}))g.call(o,n)&&b(i,n,o[n]);if(f)for(var n of f(o))j.call(o,n)&&b(i,n,o[n]);return i};const G={button:{minWidth:150},table:{minWidth:650}},U=(...i)=>o=>n=>{const h=(0,s.useTheme)(),P=(0,s.useMediaQuery)(h.breakpoints.up(...i));return(0,t.jsx)(o,B({mediaQuery:P},n))};class T extends v.ConfigGeneric{renderItem(o,n,h){return this.props.mediaQuery?(0,t.jsx)(s.TableContainer,{children:(0,t.jsxs)(s.Table,{children:[(0,t.jsx)(s.TableHead,{children:(0,t.jsxs)(s.TableRow,{children:[(0,t.jsx)(s.TableCell,{align:"left",size:"small",children:"Status"}),(0,t.jsx)(s.TableCell,{align:"left",children:"Step name"}),(0,t.jsx)(s.TableCell,{align:"left",children:"Result"}),(0,t.jsx)(s.TableCell,{align:"left",children:"Message"})]})}),(0,t.jsx)(s.TableBody,{children:this.props.data.testResults.map(C=>{var L,D;return(0,t.jsxs)(s.TableRow,{sx:{"&:last-child td, &:last-child th":{border:0}},hover:!0,children:[(0,t.jsx)(s.TableCell,{align:"center",size:"small",children:C.run?C.success?"\u2705":"\u274C":""}),(0,t.jsx)(s.TableCell,{align:"left",children:C.stepName}),(0,t.jsx)(s.TableCell,{align:typeof C.result=="number"?"right":"left",children:String((L=C.result)!=null?L:"")}),(0,t.jsx)(s.TableCell,{align:"left",children:(D=C.message)!=null?D:""})]},C.stepOrder)})})]})}):(0,t.jsx)(s.Stack,{divider:(0,t.jsx)(s.Divider,{orientation:"horizontal",flexItem:!0}),spacing:1,sx:{marginTop:1,overflow:"auto",height:"100%"},children:this.props.data.testResults.map(C=>{var L,D;return(0,t.jsxs)(s.Grid,{container:!0,children:[(0,t.jsx)(s.Grid,{item:!0,xs:6,display:"flex",justifyContent:"left",alignItems:"left",fontWeight:"bold",children:"Step name"}),(0,t.jsx)(s.Grid,{item:!0,xs:6,children:C.stepName}),(0,t.jsx)(s.Grid,{item:!0,xs:6,display:"flex",justifyContent:"left",alignItems:"left",fontWeight:"bold",children:"Status"}),(0,t.jsx)(s.Grid,{item:!0,xs:6,children:C.run?C.success?"\u2705":"\u274C":""}),(0,t.jsx)(s.Grid,{item:!0,xs:6,display:"flex",justifyContent:"left",alignItems:"left",fontWeight:"bold",children:"Result"}),(0,t.jsx)(s.Grid,{item:!0,xs:6,children:String((L=C.result)!=null?L:"")}),(0,t.jsx)(s.Grid,{item:!0,xs:6,display:"flex",justifyContent:"left",alignItems:"left",fontWeight:"bold",children:"Message"}),(0,t.jsx)(s.Grid,{item:!0,xs:6,children:(D=C.message)!=null?D:""})]},C.stepOrder)})})}}T.propTypes={socket:c().object.isRequired,themeType:c().string,themeName:c().string,style:c().object,data:c().object.isRequired,schema:c().object,onError:c().func,onChange:c().func};const O=U("sm")(T);var A=e(47952),M=Object.defineProperty,W=(i,o,n)=>o in i?M(i,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[o]=n,R=(i,o,n)=>W(i,typeof o!="symbol"?o+"":o,n),S=(i,o,n)=>new Promise((h,P)=>{var C=x=>{try{D(n.next(x))}catch(I){P(I)}},L=x=>{try{D(n.throw(x))}catch(I){P(I)}},D=x=>x.done?h(x.value):Promise.resolve(x.value).then(C,L);D((n=n.apply(i,o)).next())});const $={button:{minWidth:150},table:{minWidth:650}};class K extends v.ConfigGeneric{constructor(o){super(o),R(this,"onAliveChanged",(n,h)=>{const P=h?h.val:!1;P!==this.state.alive&&this.setState({alive:P})}),R(this,"onChangedState",(n,h)=>{if(n.endsWith(".running")){const P=h?h.val:!1;P!==this.state.testRunning&&this.setState({testRunning:P})}else if(n.endsWith(".testResults")){const P=h?JSON.parse(h.val||"[]"):[];this.setState({testResults:P})}}),R(this,"testConnectionHandler",()=>S(this,null,function*(){try{const n={command:"ConnectionTest",hostname:this.props.data.host,password:yield this.props.socket.encrypt(this.props.data.password)};this.props.data.advancedSSLConfiguration&&(n.advancedSSLConfiguration={sslFingerprint:this.props.data.SSLFingerprint,sslPublicKey:this.props.data.SSLPublicKey});const h=yield this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,n.command,n);this.setState({testResults:h})}finally{}})),this.state={alive:!1,testRunning:!1,testResults:[]}}componentDidMount(){super.componentDidMount(),this.props.socket.getState(`system.adapter.${this.props.adapterName}.${this.props.instance}.alive`).then(o=>S(this,null,function*(){o&&o.val!==void 0?this.setState({alive:o.val}):this.setState({alive:!1});const n=yield this.props.socket.getState(`${this.props.adapterName}.${this.props.instance}.TestConnection.running`);if(n&&n.val===!0){this.setState({testRunning:!0});const h=yield this.props.socket.getState(`${this.props.adapterName}.${this.props.instance}.TestConnection.testResults`);h&&h.val!==void 0&&this.setState({testResults:JSON.parse(h.val||"[]")})}else this.setState({testRunning:!1}),this.props.socket.setState(`${this.props.adapterName}.${this.props.instance}.TestConnection.testResults`,"[]",!0);yield this.props.socket.subscribeState(`system.adapter.${this.props.adapterName}.${this.props.instance}.alive`,this.onAliveChanged),yield this.props.socket.subscribeState(`${this.props.adapterName}.${this.props.instance}.TestConnection.*`,this.onChangedState)}))}componentWillUnmount(){super.componentWillUnmount(),this.props.socket.unsubscribeState(`system.adapter.${this.props.adapterName}.${this.props.instance}.alive`,this.onAliveChanged),this.props.socket.unsubscribeState(`${this.props.adapterName}.${this.props.instance}.TestConnection.*`,this.onChangedState)}onConnectionTestProgress(o,n,h){h==="ConnectionTestProgress"&&this.setState({testResults:o})}renderItem(o,n,h){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Button,{style:$.button,color:"secondary",variant:"contained",disabled:!this.state.alive||this.state.testRunning,onClick:this.testConnectionHandler,children:"Test connection"}),this.state.testRunning||this.state.testResults.length>0?(0,t.jsx)(O,{socket:this.props.socket,themeType:this.state.themeType,themeName:this.state.themeName,data:this.state,onError:()=>{},schema:{name:"ConfigCustomKlf200Set/Components/ConnectionTestResultTableComponent",type:"custom"}}):null]})}}K.propTypes={socket:c().object.isRequired,themeType:c().string,themeName:c().string,style:c().object,data:c().object.isRequired,attr:c().string,schema:c().object,onError:c().func,onChange:c().func};const V=K;var X=Object.defineProperty,H=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,N=(i,o,n)=>o in i?X(i,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[o]=n,J=(i,o)=>{for(var n in o||(o={}))Q.call(o,n)&&N(i,n,o[n]);if(H)for(var n of H(o))z.call(o,n)&&N(i,n,o[n]);return i},Y=(i,o,n)=>N(i,typeof o!="symbol"?o+"":o,n),k=(i,o,n)=>new Promise((h,P)=>{var C=x=>{try{D(n.next(x))}catch(I){P(I)}},L=x=>{try{D(n.throw(x))}catch(I){P(I)}},D=x=>x.done?h(x.value):Promise.resolve(x.value).then(C,L);D((n=n.apply(i,o)).next())});const F={app:i=>({backgroundColor:i.palette.background.default,color:i.palette.text.primary,height:"100%"}),item:{padding:50}};class Z extends _.GenericApp{constructor(o){const n=J({},o);n.Connection=_.AdminConnection,super(o,n),Y(this,"handleAliveChange",h=>{this.setState({alive:h.target.checked}),this.socket.setState(`system.adapter.klf200.${this.props.instance}.alive`,{val:h.target.checked,ack:!0})}),this.state={theme:this.createTheme(),native:{host:"localhost",password:"velux123",enableAutomaticReboot:!0,automaticRebootCronTime:"0 3 * * *",advancedSSLConfiguration:!1,SSLPublicKey:"",SSLFingerprint:""},alive:!1,testResults:[{stepOrder:1,stepName:"Name lookup",run:!0,success:!0,message:"Hostname localhost resolves to IP address 127.0.0.1.",result:"127.0.0.1"},{stepOrder:2,stepName:"Ping",run:!0,success:!0,message:"Ping was successful after 42 milliseconds.",result:42},{stepOrder:3,stepName:"Connection",run:!0,success:!1,message:"Can't establish a secure connection: No matching protocol found.",result:new Error("No matching protocol found.")},{stepOrder:4,stepName:"Login",run:!1}]},_.I18n.setLanguage((navigator.language||navigator.userLanguage||"en").substring(0,2).toLowerCase())}handleTestConnection(o,n,h,P){return k(this,null,function*(){console.log("handleTestConnection",o,n,h,P)})}render(){return this.state.loaded?(0,t.jsx)(r.A,{injectFirst:!0,children:(0,t.jsx)(u.A,{theme:this.state.theme,children:(0,t.jsxs)(s.Box,{sx:F.app,children:[(0,t.jsx)("div",{style:F.item,children:(0,t.jsx)(s.FormControlLabel,{label:"alive",control:(0,t.jsx)(s.Switch,{checked:this.state.alive,onChange:this.handleAliveChange})})}),(0,t.jsx)("div",{style:F.item,children:(0,t.jsx)(V,{socket:this.socket,themeType:this.state.themeType,themeName:this.state.themeName,data:this.state.native,onError:()=>{},schema:{name:"ConfigCustomKlf200Set/Components/ConnectionTestComponent",type:"custom"}})})]})})}):(0,t.jsx)(r.A,{injectFirst:!0,children:(0,t.jsx)(u.A,{theme:this.state.theme,children:(0,t.jsx)(_.Loader,{themeType:this.state.themeType})})})}}const w=Z;window.adapterName="adapter-component-template";const q=document.getElementById("root");(0,m.H)(q).render((0,t.jsx)(l().StrictMode,{children:(0,t.jsx)(w,{socket:{port:8081}})}))},93225:(y,a,e)=>{"use strict";e.d(a,{A:()=>m});var t=e(28437),d=e.n(t);const m=t.createContext(null)},15217:(y,a,e)=>{"use strict";e.d(a,{A:()=>m});var t=e(28437),d=e.n(t),l=e(93225);function m(){return t.useContext(l.A)}},6761:(y,a,e)=>{"use strict";e.d(a,{A:()=>p});var t=e(28437),d=e.n(t),l=e(95973),m=e.n(l),r=e(66252),u=e(11862),_=e(64922);let s;typeof document=="object"&&(s=(0,u.A)({key:"css",prepend:!0}));function p(c){const{injectFirst:v,children:E}=c;return v&&s?(0,_.jsx)(r.C,{value:s,children:E}):E}},78684:(y,a,e)=>{"use strict";e.d(a,{A:()=>v,b:()=>c});var t=e(28437),d=e.n(t),l=e(95973),m=e.n(l),r=e(24517),u=e(64922);const _=t.createContext(void 0);function s({value:E,children:f}){return(0,u.jsx)(_.Provider,{value:E,children:f})}function p(E){const{theme:f,name:g,props:j}=E;if(!f||!f.components||!f.components[g])return j;const b=f.components[g];return b.defaultProps?(0,r.A)(b.defaultProps,j):!b.styleOverrides&&!b.variants?(0,r.A)(b,j):j}function c({props:E,name:f}){const g=t.useContext(_);return p({props:E,name:f,theme:{components:g}})}const v=s},36577:(y,a,e)=>{"use strict";e.d(a,{A:()=>E,I:()=>v});var t=e(58168),d=e(98587),l=e(28437),m=e.n(l),r=e(95973),u=e.n(r),_=e(64922);const s=["value"],p=l.createContext();function c(f){let{value:g}=f,j=(0,d.A)(f,s);return(0,_.jsx)(p.Provider,(0,t.A)({value:g!=null?g:!0},j))}const v=()=>{const f=l.useContext(p);return f!=null?f:!1},E=c},34399:(y,a,e)=>{"use strict";e.d(a,{A:()=>U});var t=e(58168),d=e(28437),l=e(95973),m=e(15217),r=e(93225);const _=typeof Symbol=="function"&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var s=e(64922);function p(T,O){return typeof O=="function"?O(T):(0,t.A)({},T,O)}function c(T){const{children:O,theme:A}=T,M=(0,m.A)(),W=d.useMemo(()=>{const R=M===null?A:p(M,A);return R!=null&&(R[_]=M!==null),R},[A,M]);return(0,s.jsx)(r.A.Provider,{value:W,children:O})}const v=c;var E=e(66252),f=e(25120),g=e(36577),j=e(78684);const b={};function B(T,O,A,M=!1){return d.useMemo(()=>{const W=T&&O[T]||O;if(typeof A=="function"){const R=A(W),S=T?(0,t.A)({},O,{[T]:R}):R;return M?()=>S:S}return T?(0,t.A)({},O,{[T]:A}):(0,t.A)({},O,A)},[T,O,A,M])}function G(T){const{children:O,theme:A,themeId:M}=T,W=(0,f.A)(b),R=(0,m.A)()||b,S=B(M,W,A),$=B(M,R,A,!0),K=S.direction==="rtl";return(0,s.jsx)(v,{theme:$,children:(0,s.jsx)(E.T.Provider,{value:S,children:(0,s.jsx)(g.A,{value:K,children:(0,s.jsx)(j.A,{value:S==null?void 0:S.components,children:O})})})})}const U=G},25120:(y,a,e)=>{"use strict";e.d(a,{A:()=>u});var t=e(28437),d=e.n(t),l=e(66252);function m(_){return Object.keys(_).length===0}function r(_=null){const s=t.useContext(l.T);return!s||m(s)?_:s}const u=r},40805:(y,a,e)=>{"use strict";e.d(a,{A:()=>v});var t=e(58168),d=e(98587),l=e(28437),m=e.n(l),r=e(95973),u=e.n(r),_=e(34399),s=e(92066),p=e(64922);const c=["theme"];function v(E){let{theme:f}=E,g=(0,d.A)(E,c);const j=f[s.A];return(0,p.jsx)(_.A,(0,t.A)({},g,{themeId:j?s.A:void 0,theme:j||f}))}},92066:(y,a,e)=>{"use strict";e.d(a,{A:()=>t});const t="$$material"},24517:(y,a,e)=>{"use strict";e.d(a,{A:()=>d});var t=e(58168);function d(l,m){const r=(0,t.A)({},m);return Object.keys(l).forEach(u=>{if(u.toString().match(/^(components|slots)$/))r[u]=(0,t.A)({},l[u],r[u]);else if(u.toString().match(/^(componentsProps|slotProps)$/)){const _=l[u]||{},s=m[u];r[u]={},!s||!Object.keys(s)?r[u]=_:!_||!Object.keys(_)?r[u]=s:(r[u]=(0,t.A)({},s),Object.keys(_).forEach(p=>{r[u][p]=d(_[p],s[p])}))}else r[u]===void 0&&(r[u]=l[u])}),r}},94140:(y,a,e)=>{"use strict";var t,d=e(23479);if(1)a.H=d.createRoot,t=d.hydrateRoot;else var l},13394:(y,a,e)=>{"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=e(28437),d=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,r=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function _(s,p,c){var v,E={},f=null,g=null;c!==void 0&&(f=""+c),p.key!==void 0&&(f=""+p.key),p.ref!==void 0&&(g=p.ref);for(v in p)m.call(p,v)&&!u.hasOwnProperty(v)&&(E[v]=p[v]);if(s&&s.defaultProps)for(v in p=s.defaultProps,p)E[v]===void 0&&(E[v]=p[v]);return{$$typeof:d,type:s,key:f,ref:g,props:E,_owner:r.current}}a.Fragment=l,a.jsx=_,a.jsxs=_},64922:(y,a,e)=>{"use strict";y.exports=e(13394)},47952:()=>{},58168:(y,a,e)=>{"use strict";e.d(a,{A:()=>t});function t(){return t=Object.assign?Object.assign.bind():function(d){for(var l=1;l<arguments.length;l++){var m=arguments[l];for(var r in m)({}).hasOwnProperty.call(m,r)&&(d[r]=m[r])}return d},t.apply(null,arguments)}},98587:(y,a,e)=>{"use strict";e.d(a,{A:()=>t});function t(d,l){if(d==null)return{};var m={};for(var r in d)if({}.hasOwnProperty.call(d,r)){if(l.includes(r))continue;m[r]=d[r]}return m}}}]);

//# sourceMappingURL=src_bootstrap_jsx.74e538c3.chunk.js.map